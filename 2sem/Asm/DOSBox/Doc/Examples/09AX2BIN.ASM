;-----------------------------------------------------------------------------
;                  Задание # 9. Файл 09ax2bin.asm
;     Вывод на экран содержимого регистра ax в двоичной системе
;                (c) 2001 Copyleft  Andreev Andrey
;-----------------------------------------------------------------------------
.model tiny

.code
org 100h

start:          mov bx, 0b800h
                mov es, bx
                mov di, 16*2
                std             ; установка флага уменьшения di

                mov ax, 89d     ; число в ах, которое надо показать в bin'e
                mov dl, 2d      ; то, на что будем делить ах для перевода

next:           div dl          ; деление
                add ah, 48d     ; получение ASCII-кода остатка
                mov dh, al      ; запоминание частного
                xchg ah, al     ; поменять местами частное и остаток
                mov ah, 4eh     ; цвет вывода

                stosw           ; mov es:[di], al - вывод нуля или единицы
                mov al, dh      ; восстановление частного
                mov ah, 0       ; обнуление остатка
                cmp al, 0       ; если частное - нуль, то цикл НЕ повторяется
                jne next

                mov ax, 4c00h   ; выход
                int 21h

end start
;----------------------------------------------------------------------------
;                     Конец...
;----------------------------------------------------------------------------